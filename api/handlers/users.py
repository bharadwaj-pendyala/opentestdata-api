from ..db.models import User


def signup(body):
    # TODO validate json input
    # TODO check if user details already exist
    user = User.create(body.get('username'), body.get('email'),
                       body.get('password'))
    return user.to_obj(whos_asking=user)


def detail(id):
    user = User.query.filter_by(id=id).first()
    return user.to_obj(whos_asking=None)
